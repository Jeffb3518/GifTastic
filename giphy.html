<html>
<head>
	<title>Movie Stars</title>
	<style type="text/css">
		button, div, form, input {
			margin: 10px;
		}
	</style>
</head>
<body>

<div class="container">
  <h1><strong>Actor Search</strong></h1>

  <!-- Rendered Buttons will get Dumped Here  -->
  <div id="buttonsView"></div>

  <form id="actor-form">
    <label for="actor-input"><strong>Select an Actor</strong></label>
    <input type="text" id="actor-input"><br>
    
    <!-- Button triggers new movie to be added -->
    <input id="addActor" type="submit" value="Select an Actor">
  </form>


  <!-- Movies will Get Dumped Dere -->
  <div id="actorView"></div>

<script src='http://code.jquery.com/jquery-2.1.3.min.js'></script>
<script type="text/javascript">

var topics = ['Tom Hanks', 'Tom Cruise', 'Tim Allen', 'Jennifer Lawrence', 'Scarlett Johansson', 'Natalie Portman'];

var APIKey = "dc6zaTOxFJmzC";

function displayActor() {

  var actor = $(this).attr('data-name');
  var queryURL = "http://api.giphy.com/v1/gifs/search?q=" + actor + "&api_key=" +APIKey;
    console.log(actor)
  $.ajax({url: queryURL, method: 'GET'})
  .done(function(response) {

//retrieve the gifs (hopefully)
    for (var i = 0; i < results.length; i++) {
      if (results[i].limit == 10) {
      }
        else{
          var actorDiv = $('<div class="actor">');
          var limit = results[i].limit
          actorDiv.append($("<p>").text("Rating: " + response.rating));

          var actorImage = $("<img>");
          var imageURL = response.data.image_original_url
          actorImage.attr('src', imageURL);
          actorImage.attr('alt', 'actor image');
        };
      }
    
    $('#actorView').prepend(actorDiv);
    $('#actorView').prepend(actorImage);


  });
$('img').on('click', toggleStill);
};

//this should freeze pictures
function toggleStill(){

  var state   =$(this).attr('data-state');
    if(state == 'still'){
      $(this).attr('src', $(this).data('animate'));
      $(this).attr('data-state', 'animate');
    } else {
      $(this).attr('src', $(this).data('still'));
      $(this).attr('data-state', 'still');
    }
    // console.log($(this).attr("src"));

  }

function renderButtons () {
  $('#buttonsView').empty();

  for (var i = 0; i < topics.length; i++) {

    var a = $('<button>')
    a.addClass('actor');
    a.attr('data-name', topics[i]);
    a.text(topics[i]);
    $('#buttonsView').append(a);
  }
}

//add new search item to array
$('#addActor').on('click', function() {

  var actor = $('#actor-input').val().trim();

  topics.push(actor);

  renderButtons();


  return false;
})

$(document).on('click', '.actor', displayActor);

renderButtons();



</script>
</body>
</html>